//===========================================================================================================================================================
// 
// シーンの管理
// Author : souma umeda
// 
//===========================================================================================================================================================
#include "scene.h"
#include "title.h"
#include "game.h"
#include "result.h"
#include "object.h"
#include "input.h"
#include "manager.h"
#include "editor_param.h"
#include "editor_coursepoint.h"
#include "editor_obstacles.h"
#include "manager.h"
#include "camera.h"

// 静的メンバの初期化

CScene::MODE CScene::m_Mode = CScene::MODE_NONE;

//===========================================================================================================
// コンストラクタ
//===========================================================================================================
CScene::CScene()
{
}

//===========================================================================================================
// デストラクタ
//===========================================================================================================
CScene::~CScene()
{
}

//===========================================================================================================
// 初期設定
//===========================================================================================================
HRESULT CScene::Init()
{
	return S_OK;
}

//===========================================================================================================
// 終了処理
//===========================================================================================================
void CScene::Uninit()
{
	CCamera* pCamera = CManager::GetCamera();
	pCamera->SetTargetPos({ 0.0f,0.0f,0.0f });
	pCamera->SetRot({ 0.0f,0.0f,0.0f });

	CObject::ReleaseAll();
}

//===========================================================================================================
// 更新処理
//===========================================================================================================
void CScene::Update()
{
}

//===========================================================================================================
// 描画処理
//===========================================================================================================
void CScene::Draw()
{

}

//===========================================================================================================
// シーンの設定
//===========================================================================================================
CScene* CScene::Create(MODE mode)
{
	CScene* pScene = nullptr;

	switch (mode)
	{
	case MODE::MODE_TITLE:
		pScene = new CTitle;

		break;

	case MODE::MODE_GAME:
		pScene = new CGame;

		break;

	case MODE::MODE_RESULT:
		pScene = new CResult;

		break;

	case MODE::MODE_EDITOR_PRAM:
		pScene = new CEditor_Param;

		break;

	case MODE::MODE_COURSEPOINT:
		pScene = new CEditorCoursePoint;
		break;

	case MODE::MODE_EDIT_OBSTACLE:
		pScene = new CEditorObstacle;
		break;
	}

	m_Mode = mode;

	return pScene;
}

CScene::MODE CScene::GetMode()
{
	return m_Mode;
}